<!doctype html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="assets/docs-v=1599057782.css">
		<link rel="stylesheet" type="text/css" href="assets/theme-v=1599057782.css">
		<link rel="search" type="application/opensearchdescription+xml" title="DHTMLX Docs" href="https://docs.dhtmlx.com/suite/assets/opensearch.xml">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="initial-scale = 1.0" />
		<meta name="description" content="" />
		<link href="assets/favicon.ico" rel="shortcut icon" />
		<!--[if lte IE 9]>
			<link rel="stylesheet" type="text/css" href="assets/ie.css" />
		<![endif]-->
		        <!--[if lte IE 7]>
			<link rel="stylesheet" type="text/css" href="assets/ie7.css" />
		<![endif]-->
        <!--[if lte IE 6]>
			<link rel="stylesheet" type="text/css" href="assets/ie6.css" />
		<![endif]-->
		<title>Step 6. Edit data in the Grid  DHTMLX Docs</title>
	</head>
<body class="page_">
	<!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5M5RCSJ');</script><!-- End Google Tag Manager -->
	<a name="top"></a>

	<div class='headerBox'>
	<div class="header">
		<div class='content'>
			<a href='https://dhtmlx.com/' class='top_logo'></a>
			<div class='top_menu'>
				<a href="https://dhtmlx.com/docs/products/dhtmlxSuite/">Widgets</a>
				<a href="samples/index.html">Samples</a>
				<a href="https://forum.dhtmlx.com/">Forum</a>
				<a href="https://dhtmlx.com/docs/technical-support.shtml">Support</a>
			</div>
			<span><a href='../index.html' style="color:white">Documentation</a> / <a href='../index.html' style="color:white">Suite 6.0</a></span>
		</div>
	</div>
	</div>

	<div class="body">
		<div class="content">
		<div class="navigation">
			<div id="doc_navigation">
			<div class="search">
				<form method="get" action="search.php">
					<input type="text" accesskey="f" name="query" placeholder="Search the docs..." value="" autocomplete="off">
						<button type="submit"><img src="assets/common/search_icon.png"/></button>
				</form>
			</div>
			<ul><li class=""><a href="tutorial__binding_components__step1.html">Step 1. Add a Window</a></li><li class=""><a href="tutorial__binding_components__step2.html">Step 2. Bind Window to Grid</a></li><li class=""><a href="tutorial__binding_components__step3.html">Step 3. Add Form into Window</a></li><li class=""><a href="tutorial__binding_components__step4.html">Step 4. Add a ContextMenu</a></li><li class=""><a href="tutorial__binding_components__step5.html">Step 5. Add buttons to Toolbar</a></li><li class=" current"><a href="tutorial__binding_components__step6.html">Step 6. Edit data in the Grid</a></li><ul><li class="inner"><a href="tutorial__binding_components__step6.html#creatingcustomfunctions">Creating custom functions</a></li><li class="inner"><a href="tutorial__binding_components__step6.html#linkingtoolbarbuttonsandgrid">Linking Toolbar Buttons and Grid</a></li><li class="inner"><a href="tutorial__binding_components__step6.html#linkingwindowandgrid">Linking Window and Grid</a></li><li class="inner"><a href="tutorial__binding_components__step6.html#linkingcontextmenuandgrid">Linking Context Menu and Grid</a></li><li class="inner"><a href="tutorial__binding_components__step6.html#gettingtheresult">Getting the result</a></li></ul></ul>
			</div>
		</div>

		<div class='doc' id='doc_content'>
			
			
			<div class='breadcrumb'><a class="n1" href="../index.html">Start</a><a class="n2" href="tutorial__index.html">How To Start</a><a class="n3" href="tutorial__binding_components__index.html">Binding Components</a></div>
<!-- Content Area -->



<h1>Step 6. Edit data in the Grid</h1>

<p>We've already studied how to add and display components on the page.</p>

<p>The last part of this tutorial will teach you how to bind Grid to Toolbar, Window and ContextMenu to make it possible to edit data of the grid.</p>

<p>To implement interaction between Grid and other components we will use custom functions described below.</p>

<a name='creatingcustomfunctions'><h2>Creating custom functions</h2></a>

<p>In this step we consider how to perform particular tasks, such as adding, editing and removing tasks. As we will need these solutions in several occasions, it is convenient to use functions.</p>

<h3>openAddWindow() function</h3>

<p>The first function we will describe is used for adding a new item. The function will perform the following actions:</p>

<ul>
<li>assign the "Adding item" title to the window</li>
<li>clear the form</li>
<li>show a window on a page</li>
</ul>

<pre><code><pre class="js"><span class="kw2">function</span> openAddWindow<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
    dhxWindow.<span class="me1">header</span>.<span class="me1">data</span>.<span class="me1">update</span><span class="br0">&#40;</span><span class="st0">&quot;title&quot;</span><span class="sy0">,</span> <span class="br0">&#123;</span>value<span class="sy0">:</span> <span class="st0">&quot;Adding item&quot;</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    form.<span class="me1">clear</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    dhxWindow.<span class="me1">show</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span></pre></code></pre>

<p><img style="margin: 12px" src="media/tutorial/binding_components/adding_item.png"/></p>

<h3>openEditWindow() function</h3>

<p>In our app we consider several ways to open the editing window. They are:</p>

<ul>
<li>double-clicking on a row in the grid</li>
<li>pressing the "Edit" button in the toolbar</li>
<li>pressing the "Edit" item in the ContextMenu</li>
</ul>

<p>In all these cases we'll call the <strong>openEditWindow</strong> function to display the edit window on the page.</p>

<p><img style="margin: 12px" src="media/tutorial/binding_components/editing_item.png"/></p>

<p>All fields of the form inside the window will be filled with data from a selected grid row. If no row is selected in the grid, all data for the window will be selected from the 1st row of the grid.</p>

<pre><code><pre class="js"><span class="kw2">function</span> openEditWindow<span class="br0">&#40;</span>row<span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="co1">// assigns the &quot;Editing item&quot; title to the window</span>
    dhxWindow.<span class="me1">header</span>.<span class="me1">data</span>.<span class="me1">update</span><span class="br0">&#40;</span><span class="st0">&quot;title&quot;</span><span class="sy0">,</span> <span class="br0">&#123;</span>value<span class="sy0">:</span> <span class="st0">&quot;Editing item&quot;</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>   
    form.<span class="me1">clear</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">//clears both form values and validation</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>row<span class="br0">&#41;</span><span class="br0">&#123;</span> <span class="co1">// checks whether any row is selected</span>
        <span class="kw2">var</span> itemId <span class="sy0">=</span> grid.<span class="me1">data</span>.<span class="me1">getId</span><span class="br0">&#40;</span><span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// returns the id of the item by its index</span>
        grid.<span class="me1">selection</span>.<span class="me1">setCell</span><span class="br0">&#40;</span>itemId<span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// sets a selection on a grid row by its Id</span>
        row <span class="sy0">=</span> grid.<span class="me1">data</span>.<span class="me1">getItem</span><span class="br0">&#40;</span>itemId<span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// returns the object of the item (row) by id</span>
    <span class="br0">&#125;</span>
&nbsp;
    form.<span class="me1">setValue</span><span class="br0">&#40;</span>row<span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// sets values of the selected row in the form fields</span>
&nbsp;
    dhxWindow.<span class="me1">show</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// shows a window on a page</span>
<span class="br0">&#125;</span><span class="sy0">;</span></pre></code></pre>

<h3>deleteItem() function</h3>

<p>Now, let's add a function to remove rows from the grid. The logic of the function is shown below:</p>

<pre><code><pre class="js"><span class="kw2">function</span> deleteItem<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="co1">// returns a cell of the selected row</span>
    <span class="kw2">var</span> <span class="kw1">item</span> <span class="sy0">=</span> grid.<span class="me1">selection</span>.<span class="me1">getCell</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="co1">// returns the index of the selected item by its Id</span>
    <span class="kw2">var</span> index <span class="sy0">=</span> grid.<span class="me1">data</span>.<span class="me1">getIndex</span><span class="br0">&#40;</span><span class="kw1">item</span>.<span class="me1">row</span>.<span class="me1">id</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="co1">// deletes an item from the grid by its Id</span>
    grid.<span class="me1">data</span>.<span class="me1">remove</span><span class="br0">&#40;</span><span class="kw1">item</span>.<span class="me1">row</span>.<span class="me1">id</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="co1">// defines the index of the position to which the new item will be put </span>
    index <span class="sy0">=</span> index <span class="sy0">&gt;</span> grid.<span class="me1">data</span>.<span class="me1">getLength</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">-</span> <span class="nu0">1</span> <span class="sy0">?</span> grid.<span class="me1">data</span>.<span class="me1">getLength</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">-</span> <span class="nu0">1</span> <span class="sy0">:</span> index<span class="sy0">;</span> 
    <span class="co1">// gets the id of an item by its index and sets selection on this item</span>
    grid.<span class="me1">selection</span>.<span class="me1">setCell</span><span class="br0">&#40;</span>grid.<span class="me1">data</span>.<span class="me1">getId</span><span class="br0">&#40;</span>index<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>     
<span class="br0">&#125;</span><span class="sy0">;</span></pre></code></pre>

<div class='note'><p><p>To make sure that after deleting the item, selection is automatically set to the next item, we need to check whether the deleted item was the last one in the array.</p>
</p></div>

<p>With the help of the <strong>getLength()</strong> method we find out the length of the array. After that we compare the array length and the deleted item index.
If it was the last item, selection is set to the new item, which is currently the last item in the array. Otherwise, we set selection to the new item, which replaces the deleted item.</p>

<p><strong>The custom functions, that we've described above, will be used below to edit grid with the help of other components.</strong></p>

<a name='linkingtoolbarbuttonsandgrid'><h2>Linking Toolbar Buttons and Grid</h2></a>

<p>We've <a class="link-" href="tutorial__basic_application__step5.html">already discussed</a> how to bind Toolbar to Grid via the <strong>Click</strong> event of the Toolbar. 
So we suggest to bind the buttons added in the <a class="link-" href="tutorial__binding_components__step5.html">previous step</a> to Grid in the same way.</p>

<pre><code><pre class="js"><span class="co1">// id - the Id of the toolbar button, </span>
<span class="co1">// e - the default mouse event of a browser </span>
toolbar.<span class="me1">events</span>.<span class="me1">on</span><span class="br0">&#40;</span><span class="st0">&quot;Click&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>id<span class="sy0">,</span>e<span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw1">switch</span><span class="br0">&#40;</span>id<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">case</span> <span class="st0">'add'</span><span class="sy0">:</span> <span class="br0">&#123;</span>
            openAddWindow<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>            
            <span class="kw1">break</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">case</span> <span class="st0">'edit'</span><span class="sy0">:</span> <span class="br0">&#123;</span>
            row <span class="sy0">=</span> grid.<span class="me1">selection</span>.<span class="me1">getCell</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">row</span><span class="sy0">;</span> 
            <span class="co1">//to define a row, a cell of which is selected</span>
            openEditWindow<span class="br0">&#40;</span>row<span class="br0">&#41;</span><span class="sy0">;</span>            
            <span class="kw1">break</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">case</span> <span class="st0">'delete'</span><span class="sy0">:</span> <span class="br0">&#123;</span>
            deleteItem<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>               
            <span class="kw1">break</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>  
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p>For details about Toolbar events, see the <a class="link-" href="toolbar__handling_events.html">Event Handling</a> article.</p>

<a name='linkingwindowandgrid'><h2>Linking Window and Grid</h2></a>

<p>After double-click on a cell in the grid the editing window will appear. To call it, we will use the <b>CellDblClick()</b> event of the Grid:</p>

<pre><code><pre class="js">grid.<span class="me1">events</span>.<span class="me1">on</span><span class="br0">&#40;</span><span class="st0">&quot;CellDblClick&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>row<span class="sy0">,</span>column<span class="sy0">,</span>e<span class="br0">&#41;</span><span class="br0">&#123;</span>
    openEditWindow<span class="br0">&#40;</span>row<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<a name='linkingcontextmenuandgrid'><h2>Linking Context Menu and Grid</h2></a>

<p>When you press the "Edit" item in the ContextMenu the editing window will appear as well. To implement this, we need to bind the context menu and the grid by using the <b>Click()</b> event of ContextMenu:</p>

<pre><code><pre class="js">contextMenu.<span class="me1">events</span>.<span class="me1">on</span><span class="br0">&#40;</span><span class="st0">&quot;Click&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>id<span class="sy0">,</span>e<span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw1">switch</span><span class="br0">&#40;</span>id<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">case</span> <span class="st0">'edit'</span><span class="sy0">:</span> <span class="br0">&#123;</span>
            openEditWindow<span class="br0">&#40;</span>grid.<span class="me1">selection</span>.<span class="me1">getCell</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">row</span><span class="br0">&#41;</span><span class="sy0">;</span> 
    <span class="co1">// in the argument of the function we specify the row the editing</span>
    <span class="co1">// window should be opened for</span>
            <span class="kw1">break</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">case</span> <span class="st0">'delete'</span><span class="sy0">:</span> <span class="br0">&#123;</span>
            deleteItem<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">break</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<a name='gettingtheresult'><h2>Getting the result</h2></a>

<p>When you complete the steps described in this tutorial, you'll get an advanced demo application that allows editing data in the grid in several ways. This is how the ready app looks like:</p>

<p><img style="margin: 12px" src="media/tutorial/binding_components/binding_components.png"/></p>

<div id="tutorial_step">
    <a id="next_step" class="link-" href="tutorial__index.html"></a>
</div>

<!-- Content Area End -->
			<a href='tutorial__binding_components__step6.html#top' class='top_link'>Back to top</a>
			<div id='disqus_thread'></div><script type='text/javascript'>var disqus_shortname = 'dhxdocumentation';var disqus_developer = 1;(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script>
		</div>
		</div>
	</div>
	<div class="footer">
		<div class='content'>
			<ul class='column'>
	<li class='group'>Suite Components</li>
	<li><a href='calendar__index.html'>Calendar</a></li>
	<li><a href='chart__index.html'>Chart</a></li>
	<li><a href='colorpicker__index.html'>ColorPicker</a></li>
	<li><a href='combo__index.html'>ComboBox</a></li>
	<li><a href='dataview__index.html'>DataView</a></li>
	<li><a href='form__index.html'>Form</a></li>
</ul>
<ul class='column'>
	<li class='group'>&nbsp;</li>	
	<li><a href='grid__index.html'>Grid</a></li>
	<li><a href='layout__index.html'>Layout</a></li>	
	<li><a href='list__index.html'>List</a></li>
	<li><a href='menu__index.html'>Menu</a></li>	
	<li><a href='message__index.html'>Message & Tooltip</a></li>
	<li><a href='popup__index.html'>Popup</a></li>		
</ul>
<ul class='column'>
	<li class='group'>&nbsp;</li>
	<li><a href='ribbon__index.html'>Ribbon</a></li>
	<li><a href='sidebar__index.html'>Sidebar</a></li>
	<li><a href='slider__index.html'>Slider</a></li>
	<li><a href='tabbar__index.html'>Tabbar</a></li>
	<li><a href='timepicker__index.html'>TimePicker</a></li>
	<li><a href='toolbar__index.html'>Toolbar</a></li>
</ul>
<ul class='column'>
	<li class='group'>&nbsp;</li>
	<li><a href='tree__index.html'>Tree</a></li>
	<li><a href='treegrid__index.html'>TreeGrid</a></li>
	<li><a href='window__index.html'>Window</a></li>
</ul>
<ul class='column'>
	<li class='group'>Standalone Libs</li>
	<li><a href='../diagram/index.html'>Diagram</a></li>
	<li><a href='../gantt/index.html'>Gantt</a></li>
	<li><a href='../pivot/index.html'>Pivot</a></li>
	<li><a href='../richtext/index.html'>RichText</a></li>
	<li><a href='../scheduler/index.html'>Scheduler</a></li>
	<li><a href='../spreadsheet/index.html'>SpreadSheet</a></li>
	<li><a href='../vault/index.html'>Vault</a></li>
</ul>
<ul class='column'>
	<li class='group'>Helpers</li>
	<li><a href="ajax__api__refs__ajax.html">AJAX</a></li>
	<li><a href='data_collection__api__refs__datacollection.html'>Data Collection API</a></li>
	<li><a href='helpers__icon.html'>Default Icons</a></li>
	<li><a href='selection__api__refs__selection.html'>Selection Object API</a></li>
	<li><a href='tree_collection__api__refs__treecollection.html'>Tree Collection API</a></li>
	<li><a href='helpers__using_typescript.html'>Using DHTMLX with TypeScript</a></li>
</ul>
		</div>
	</div>
	<script src="https://docs.dhtmlx.com/suite/assets/tree.js"></script>
	<script>
		function isFullTree() {
			return document.querySelectorAll("#doc_navigation li").length > 200;
		}

		function normalizeTree(items) {
			const itemsArray = Array.prototype.slice.call(items);

			const uls = itemsArray.filter(function (i) { return i.tagName === "UL"; });

			for (const ul of uls) {
				const titleLi = ul.previousElementSibling;
				titleLi.appendChild(ul);
			}
		}

		const docNav = document.querySelector("#doc_navigation");
		const docNavList = docNav.querySelector("ul");
		if(isFullTree() && setStyles){
			normalizeTree(docNavList.children);
			setStyles(docNavList);
			const current = docNavList.querySelector(".tree-item__current");
			if (current) {
				expandRec(current);
			}
		}
		docNav.style.visibility = "inherit";
	</script>
	<script src="assets/autocomplete.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		AutoComplete_init("");
		Scroll_init();
	</script>
</body>
</html>

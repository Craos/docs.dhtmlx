<!doctype html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="assets/docs-v=1599488307.css">
		<link rel="stylesheet" type="text/css" href="assets/theme-v=1599488307.css">
		<link rel="search" type="application/opensearchdescription+xml" title="DHTMLX Docs" href="https://docs.dhtmlx.com/assets/opensearch.xml">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="initial-scale = 1.0" />
		<meta name="description" content="" />
		<link href="assets/favicon.ico" rel="shortcut icon" />
		<!--[if lte IE 9]>
			<link rel="stylesheet" type="text/css" href="assets/ie.css" />
		<![endif]-->
		        <!--[if lte IE 7]>
			<link rel="stylesheet" type="text/css" href="assets/ie7.css" />
		<![endif]-->
        <!--[if lte IE 6]>
			<link rel="stylesheet" type="text/css" href="assets/ie6.css" />
		<![endif]-->
<a href="index.html" title="" class="attention-line">
    <span>Check documentation for the <span class="attention-line__link"> latest version 6.0 of dhtmlxSuite <span class="more-link-icon"></span></span></span>
</a>
		<title>Step 11. Add/Delete Records in the Grid  DHTMLX Docs</title>
	</head>
<body class="page_">
	<!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5M5RCSJ');</script><!-- End Google Tag Manager -->
	<a name="top"></a>
	
	<div class='headerBox'>
	<div class="header">
		<div class='content'>
			<a href='https://dhtmlx.com/' class='top_logo'></a>
			<div class='top_menu'>
				<a href="https://dhtmlx.com/docs/products/dhtmlxSuite5/">Samples</a>
				<a href="https://forum.dhtmlx.com/">Forum</a>
				<a href="https://dhtmlx.com/docs/technical-support.shtml">Support</a>
			</div>
			<span><a href='index.html' style="color:white">Documentation</a> / <a href='suite5.html' style="color:white">Suite 5.X</a></span>
		</div>
	</div>
	</div>

	<div class="body">
		<div class="content">
		<div class="navigation">
			<div id="doc_navigation">
			<div class="search">
				<form method="get" action="search.php">
					<input type="text" accesskey="f" name="query" placeholder="Search the docs..." value="" autocomplete="off">
						<button type="submit"><img src="assets/common/search_icon.png"/></button>
				</form>
			</div>
			<ul><li class=""><a href="tutorials__first_app__step1.html">Step 1. Create the App's File</a></li><li class=""><a href="tutorials__first_app__step2.html">Step 2. Specify the Layout</a></li><li class=""><a href="tutorials__first_app__step3.html">Step 3. Add a Menu</a></li><li class=""><a href="tutorials__first_app__step4.html">Step 4. Add a Toolbar</a></li><li class=""><a href="tutorials__first_app__step5.html">Step 5. Add a Grid</a></li><li class=""><a href="tutorials__first_app__step6.html">Step 6. Load Data to the Grid</a></li><li class=""><a href="tutorials__first_app__step7.html">Step 7. Add Filters to the Grid</a></li><li class=""><a href="tutorials__first_app__step8.html">Step 8. Add a Form to the Page</a></li><li class=""><a href="tutorials__first_app__step9.html">Step 9. Bind the Form to the Grid</a></li><li class=""><a href="tutorials__first_app__step10.html">Step 10. Save Data From the Form</a></li><li class=" current"><a href="tutorials__first_app__step11.html">Step 11. Add/Delete Records in the Grid</a></li></ul>
			</div>
		</div>	  
	  
		<div class='doc' id='doc_content'>
			
			
			<div class='breadcrumb'><a class="n1" href="suite5.html">Start</a><a class="n2" href="tutorials__index.html">Tutorials</a><a class="n3" href="tutorials__first_app__index.html">Your First App</a></div>
<!-- Content Area -->



<h1>Step 11. Add/Delete Records in the Grid</h1>

<p>Our final functionality is  adding and deleting records in the grid.</p>

<p>We will add/delete records by clicking the respective buttons in the toolbar.</p>

<ul>
<li>When the user clicks the "Add" button, a new record - with the first name "New contact" -  will be added to the end of the grid (and automatically to the database) and will take the selection. In its turn, 
the form will get the focus and make the "First Name" input active.</li>
</ul>

<p><img style="display:block; margin: 20px auto 20px auto;" src="media/tutorials/first_app/adding_rows.png"/></p>

<ul>
<li>When the user clicks the "Delete" button, the currently selected row will be deleted and the selection will be moved to the next row. In case, the currently selected row is the last one, the selection will be moved
to one row up.</li>
</ul>

<p>To provide the declared functionality, we will attach handler functions to the <i>onClick</i> event of our "Add"/"Delete" buttons.</p>

<div style="font-weight:bold; color:#404040; padding-top: 20px; font-size: 15px;">To provide a possibility to add, delete records in the grid:</div>

<ol>
    <li>Attach a handler function to the <a class="link-" href="api__dhtmlxtoolbar_onclick_event.html">onClick</a> event to process clicks on the 'Add' button:<br><br>
<p class='snippet'>
"index.html"
</p>

<pre><code><pre class="js">toolbar.<span class="me1">attachEvent</span><span class="br0">&#40;</span><span class="st0">&quot;onclick&quot;</span><span class="sy0">,</span><span class="kw2">function</span><span class="br0">&#40;</span>id<span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw1">if</span><span class="br0">&#40;</span>id<span class="sy0">==</span><span class="st0">&quot;newContact&quot;</span><span class="br0">&#41;</span><span class="br0">&#123;</span> <span class="co1">//'newContact' is the id of the button in the toolbar</span>
        <span class="kw2">var</span> rowId<span class="sy0">=</span>contactsGrid.<span class="me1">uid</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>                  <span class="co1">//generates an unique id</span>
        <span class="kw2">var</span> pos <span class="sy0">=</span> contactsGrid.<span class="me1">getRowsNum</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>  <span class="co1">//gets the number of rows in grid</span>
<span class="xtra ln-xtra">        contactsGrid.<span class="me1">addRow</span><span class="br0">&#40;</span>rowId<span class="sy0">,</span><span class="br0">&#91;</span><span class="st0">&quot;New contact&quot;</span><span class="sy0">,</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span><span class="st0">&quot;&quot;</span><span class="br0">&#93;</span><span class="sy0">,</span>pos<span class="br0">&#41;</span><span class="sy0">;</span>  <span class="co1">//adds a new row   </span></span>    <span class="br0">&#125;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<i>The <a class="link-" href="api__dhtmlxgrid_addrow.html">addRow</a> method takes 3 parameters: the row's id, cells' values and row's index. 
</i> <br><br>
    </li>
    <li>Attach a handler function to the <a class="link-" href="api__dataprocessor_onafterupdate_event.html">onAfterUpdate</a> event to select the newly-created record once the grid has gotten a response
    from the server that the record has been successfully inserted into the database:<br> <br>
<p class='snippet'>
"index.html"
</p>

<pre><code><pre class="js"><span class="kw2">var</span> dpg <span class="sy0">=</span> <span class="kw2">new</span> dataProcessor<span class="br0">&#40;</span><span class="st0">&quot;data/contacts.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>                          
dpg.<span class="me1">init</span><span class="br0">&#40;</span>contactsGrid<span class="br0">&#41;</span><span class="sy0">;</span>                                                   
&nbsp;
<span class="xtra ln-xtra">dpg.<span class="me1">attachEvent</span><span class="br0">&#40;</span><span class="st0">&quot;onAfterUpdate&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>sid<span class="sy0">,</span> action<span class="sy0">,</span> tid<span class="sy0">,</span> tag<span class="br0">&#41;</span><span class="br0">&#123;</span></span><span class="xtra ln-xtra">    <span class="kw1">if</span> <span class="br0">&#40;</span>action <span class="sy0">==</span> <span class="st0">&quot;inserted&quot;</span><span class="br0">&#41;</span><span class="br0">&#123;</span></span><span class="xtra ln-xtra">        contactsGrid.<span class="me1">selectRowById</span><span class="br0">&#40;</span>tid<span class="br0">&#41;</span><span class="sy0">;</span>        <span class="co1">//selects the newly-created row                          </span></span><span class="xtra ln-xtra">        contactForm.<span class="me1">setFocusOnFirstActive</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><span class="co1">//set focus to the 1st form's input                              </span></span><span class="xtra ln-xtra">    <span class="br0">&#125;</span></span><span class="xtra ln-xtra"><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span></span></pre></code></pre>

      
<i>The <a class="link-" href="api__dhtmlxform_setfocusonfirstactive.html">setFocusOnFirstActive</a> method makes the first form's input active, 
i.e. opens the editor for it.
</i> <br><br>
    </li>
    <li>Add a code to the <a class="link-" href="api__dhtmlxtoolbar_onclick_event.html">onClick</a> handler function to process clicks on the "Delete" button:<br><br>
<p class='snippet'>
"index.html"
</p>   

<pre><code><pre class="js">toolbar.<span class="me1">attachEvent</span><span class="br0">&#40;</span><span class="st0">&quot;onclick&quot;</span><span class="sy0">,</span><span class="kw2">function</span><span class="br0">&#40;</span>id<span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw1">if</span><span class="br0">&#40;</span>id<span class="sy0">==</span><span class="st0">&quot;newContact&quot;</span><span class="br0">&#41;</span><span class="br0">&#123;</span> 
        <span class="kw2">var</span> rowId<span class="sy0">=</span>contactsGrid.<span class="me1">uid</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> pos <span class="sy0">=</span> contactsGrid.<span class="me1">getRowsNum</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        contactsGrid.<span class="me1">addRow</span><span class="br0">&#40;</span>rowId<span class="sy0">,</span><span class="br0">&#91;</span><span class="st0">&quot;New contact&quot;</span><span class="sy0">,</span><span class="st0">&quot;&quot;</span><span class="sy0">,</span><span class="st0">&quot;&quot;</span><span class="br0">&#93;</span><span class="sy0">,</span>pos<span class="br0">&#41;</span><span class="sy0">;</span>
        contactsGrid.<span class="me1">selectRowById</span><span class="br0">&#40;</span>rowId<span class="br0">&#41;</span><span class="sy0">;</span>
        contactForm.<span class="me1">setFocusOnFirstActive</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span><span class="sy0">;</span>
    <span class="kw1">if</span><span class="br0">&#40;</span>id<span class="sy0">==</span><span class="st0">&quot;delContact&quot;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
<span class="xtra ln-xtra">        <span class="kw2">var</span> rowId <span class="sy0">=</span> contactsGrid.<span class="me1">getSelectedRowId</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></span><span class="xtra ln-xtra">        <span class="kw2">var</span> rowIndex <span class="sy0">=</span> contactsGrid.<span class="me1">getRowIndex</span><span class="br0">&#40;</span>rowId<span class="br0">&#41;</span><span class="sy0">;</span></span><span class="xtra ln-xtra">        <span class="kw1">if</span><span class="br0">&#40;</span>rowId<span class="sy0">!=</span><span class="kw2">null</span><span class="br0">&#41;</span><span class="br0">&#123;</span></span><span class="xtra ln-xtra">            contactsGrid.<span class="me1">deleteRow</span><span class="br0">&#40;</span>rowId<span class="br0">&#41;</span><span class="sy0">;</span></span><span class="xtra ln-xtra">                <span class="kw1">if</span><span class="br0">&#40;</span>rowIndex<span class="sy0">!=</span><span class="br0">&#40;</span>contactsGrid.<span class="me1">getRowsNum</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#123;</span></span><span class="xtra ln-xtra">                    contactsGrid.<span class="me1">selectRow</span><span class="br0">&#40;</span>rowIndex<span class="sy0">+</span><span class="nu0">1</span><span class="sy0">,</span><span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span></span><span class="xtra ln-xtra">                <span class="br0">&#125;</span> <span class="kw1">else</span><span class="br0">&#123;</span></span><span class="xtra ln-xtra">                    contactsGrid.<span class="me1">selectRow</span><span class="br0">&#40;</span>rowIndex<span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span><span class="kw2">true</span><span class="br0">&#41;</span></span><span class="xtra ln-xtra">                <span class="br0">&#125;</span></span><span class="xtra ln-xtra">        <span class="br0">&#125;</span></span><span class="xtra ln-xtra">    <span class="br0">&#125;</span></span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

    </li>
</ol>

<div style="font-weight:bold; color: rgb(65, 65, 65); padding-top: 10px;"> 

That's all. We believe you have enjoyed the tutorial and got acquainted with the basic principles of building web apps with the DHTMLX library. 
<br><br>
Follow our other tutorials to be a true DHTMLX expert. </div>

<div id="tutorial_step">
    <a id="next_step" class="link-" href="tutorials__index.html"></a>
</div>

<!-- Content Area End -->
			<a href='tutorials__first_app__step11.html#top' class='top_link'>Back to top</a>
			
		</div>
		</div>
	</div>
	<div class="footer">
		<div class='content'>
			<ul class='column'>
	<li class='group'>Suite 5.X Collection</li>
	<li><a href='accordion__index.html'>Accordion</a></li>
	<li><a href='calendar__index.html'>Calendar</a></li>
	<li><a href='carousel__index.html'>Carousel</a></li>
	<li><a href='chart__index.html'>Chart</a></li>
	<li><a href='colorpicker__index.html'>ColorPicker</a></li>
	<li><a href='combo__index.html'>Combo</a></li>
	<li><a href='dataview__index.html'>DataView</a></li>	
</ul>
<ul class='column'>
	<li class='group'>&nbsp;</li>
	<li><a href='form__index.html'>Form</a></li>
	<li><a href='grid__index.html'>Grid</a></li>
	<li><a href='layout__index.html'>Layout</a></li>
	<li><a href='list__index.html'>List</a></li>
	<li><a href='menu__index.html'>Menu</a></li>
	<li><a href='popup__index.html'>Popup</a></li>
	<li><a href='ribbon__index.html'>Ribbon</a></li>		
</ul>
<ul class='column'>
	<li class='group'>&nbsp;</li>
	<li><a href='sidebar__index.html'>Sidebar</a></li>
	<li><a href='slider__index.html'>Slider</a></li>
	<li><a href='tabbar__index.html'>Tabbar</a></li>
	<li><a href='toolbar__index.html'>Toolbar</a></li>
	<li><a href='treegrid__index.html'>TreeGrid</a></li>
	<li><a href='treeview__index.html'>TreeView</a></li>
	<li><a href='windows__index.html'>Windows</a></li>
</ul>
<ul class='column'>
	<li class='group'>Other Components</li>
	<li><a href='diagram/index.html'>Diagram</a></li>
	<li><a href='gantt/index.html'>Gantt</a></li>
	<li><a href='pivot/index.html'>Pivot</a></li>
	<li><a href='richtext/index.html'>RichText</a></li>
	<li><a href='scheduler/index.html'>Scheduler</a></li>
	<li><a href='spreadsheet/index.html'>SpreadSheet</a></li>
	<li><a href='vault/index.html'>Vault</a></li>
</ul>
<ul class='column'>
	<li class='group'>Data Saving</li>
	<li><a href='datastore__index.html'>DataStore</a></li>
	<li><a href='dataprocessor__index.html'>DataProcessor</a></li>
	<li><a href='connector__php__index.html'>PHP connector</a></li>
	<li><a href='connector__java__index.html'>Java connector</a></li>
	<li><a href='connector__net__index.html'>.Net connector</a></li>
	<li><a href='connector__cf__index.html'>ColdFusion</a></li>
</ul>
<ul class='column'>
	<li class='group'>Tools&Helpers</li>	
	<li><a href='formbuilder__index.html'>Form Builder</a></li>
	<li><a href='libcompiler__index.html'>LibCompiler</a></li>
	<li><a href='optimus__index.html'>Optimus Framework</a></li>
	<li><a href='dhxskinbuilder_4_x.html'>Skin Builder</a></li>
	<li><a href='http://snippet.dhtmlx.com/'>Snippet Editor</a></li>
	<li><a href='designer__index.html'>Visual Designer</a></li>
	<li><a href='helpers__index.html'>Helpers</a></li>
</ul>
		</div>
	</div>
	<script src="assets/autocomplete.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		AutoComplete_init("");
		Scroll_init();
	</script>	
</body>
</html>
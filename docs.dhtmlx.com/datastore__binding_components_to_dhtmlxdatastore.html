<!doctype html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="assets/docs-v=1599488307.css">
		<link rel="stylesheet" type="text/css" href="assets/theme-v=1599488307.css">
		<link rel="search" type="application/opensearchdescription+xml" title="DHTMLX Docs" href="https://docs.dhtmlx.com/assets/opensearch.xml">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="initial-scale = 1.0" />
		<meta name="description" content="" />
		<link href="assets/favicon.ico" rel="shortcut icon" />
		<!--[if lte IE 9]>
			<link rel="stylesheet" type="text/css" href="assets/ie.css" />
		<![endif]-->
		        <!--[if lte IE 7]>
			<link rel="stylesheet" type="text/css" href="assets/ie7.css" />
		<![endif]-->
        <!--[if lte IE 6]>
			<link rel="stylesheet" type="text/css" href="assets/ie6.css" />
		<![endif]-->
<a href="index.html" title="" class="attention-line">
    <span>Check documentation for the <span class="attention-line__link"> latest version 6.0 of dhtmlxSuite <span class="more-link-icon"></span></span></span>
</a>
		<title>Binding Components to DataStore  DHTMLX Docs</title>
	</head>
<body class="page_">
	<!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5M5RCSJ');</script><!-- End Google Tag Manager -->
	<a name="top"></a>
	
	<div class='headerBox'>
	<div class="header">
		<div class='content'>
			<a href='https://dhtmlx.com/' class='top_logo'></a>
			<div class='top_menu'>
				<a href="https://dhtmlx.com/docs/products/dhtmlxSuite5/">Samples</a>
				<a href="https://forum.dhtmlx.com/">Forum</a>
				<a href="https://dhtmlx.com/docs/technical-support.shtml">Support</a>
			</div>
			<span><a href='index.html' style="color:white">Documentation</a> / <a href='suite5.html' style="color:white">Suite 5.X</a></span>
		</div>
	</div>
	</div>

	<div class="body">
		<div class="content">
		<div class="navigation">
			<div id="doc_navigation">
			<div class="search">
				<form method="get" action="search.php">
					<input type="text" accesskey="f" name="query" placeholder="Search the docs..." value="" autocomplete="off">
						<button type="submit"><img src="assets/common/search_icon.png"/></button>
				</form>
			</div>
			<ul><li class=""><a href="api__refs__datastore.html">DataStore API</a></li><li class=""><a href="datastore__initialization.html">Initializing DataStore</a></li><li class=""><a href="datastore__syntax_templates.html">Syntax Templates</a></li><li class=""><a href="datastore__data_scheme.html">Data Scheme</a></li><li class=" current"><a href="datastore__binding_components_to_dhtmlxdatastore.html">Binding Components to DataStore</a></li><ul><li class="inner"><a href="datastore__binding_components_to_dhtmlxdatastore.html#methodsusedfordatabinding">Methods used for data binding</a></li><li class="inner"><a href="datastore__binding_components_to_dhtmlxdatastore.html#bindingcases">Binding cases</a></li><li class="inner"><a href="datastore__binding_components_to_dhtmlxdatastore.html#unbindingdatastoreobjects">Unbinding DataStore objects</a></li><li class="inner"><a href="datastore__binding_components_to_dhtmlxdatastore.html#crudoperationsinboundcomponents">CRUD operations in bound components</a></li><li class="inner"><a href="datastore__binding_components_to_dhtmlxdatastore.html#sortingandfilteringingridbindedtodatastore">Sorting and Filtering in Grid binded to DataStore</a></li></ul><li class=""><a href="datastore__server_side_integration.html">Server-Side Integration</a></li><li class=""><a href="datastore__step_by_step_example.html">Step-by-Step Example</a></li></ul>
			</div>
		</div>	  
	  
		<div class='doc' id='doc_content'>
			
			
			<div class='breadcrumb'><a class="n1" href="suite5.html">Start</a><a class="n2" href="datastore__index.html">DataStore</a></div>
<!-- Content Area -->



<h1>Binding Components to DataStore</h1>

<p>Components bound to DataStore will keep their data synchronized with the data stored in DataStore. They will also be bound with each other (e.g. a grid and a form).</p>

<a name='methodsusedfordatabinding'><h2>Methods used for data binding</h2></a>

<ul>
<li><strong>sync()</strong> - copies all the data from the store (used for multirecords components like a grid).</li>
<li><strong>bind()</strong> - copies just a single record related to some item (used for single-record component like a form).</li>
<li><strong>dataFeed()</strong> - helps to reload data from the server (instead of the master component).</li>
</ul>

<a name='bindingcases'><h2>Binding cases</h2></a>

<ul>
<li><strong>binding components to DataStore:</strong></li>
</ul>

<pre><code><pre class="js"><span class="kw2">var</span> list1 <span class="sy0">=</span> <span class="kw2">new</span> dhtmlXDataStore<span class="br0">&#40;</span><span class="br0">&#123;</span> url<span class="sy0">:</span><span class="st0">&quot;../data/data1.json&quot;</span><span class="sy0">,</span> datatype<span class="sy0">:</span><span class="st0">&quot;json&quot;</span> <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
grid.<span class="me1">sync</span><span class="br0">&#40;</span>list1<span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<ul>
<li><strong>binding 2 DataStores:</strong>  </li>
</ul>

<pre><code><pre class="js"><span class="kw2">var</span> data1 <span class="sy0">=</span> <span class="kw2">new</span> dhtmlXDataStore<span class="br0">&#40;</span><span class="br0">&#123;</span> url<span class="sy0">:</span><span class="st0">&quot;../data/data1.json&quot;</span><span class="sy0">,</span> datatype<span class="sy0">:</span><span class="st0">&quot;json&quot;</span> <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw2">var</span> data2 <span class="sy0">=</span> <span class="kw2">new</span> dhtmlXDataStore<span class="br0">&#40;</span><span class="br0">&#123;</span> url<span class="sy0">:</span><span class="st0">&quot;../data/data2.json&quot;</span><span class="sy0">,</span> datatype<span class="sy0">:</span><span class="st0">&quot;json&quot;</span> <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
data2.<span class="me1">bind</span><span class="br0">&#40;</span>data1<span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>data<span class="sy0">,</span> filter<span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span>filter<span class="br0">&#41;</span>
        <span class="kw1">return</span> data.<span class="me1">id</span> <span class="sy0">==</span> filter.<span class="me1">id</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
grid1.<span class="me1">attachEvent</span><span class="br0">&#40;</span><span class="st0">&quot;onRowSelect&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>id<span class="br0">&#41;</span><span class="br0">&#123;</span>
    data1.<span class="me1">setCursor</span><span class="br0">&#40;</span>id<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
grid1.<span class="me1">sync</span><span class="br0">&#40;</span>data1<span class="br0">&#41;</span><span class="sy0">;</span>
grid2.<span class="me1">sync</span><span class="br0">&#40;</span>data2<span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<ul>
<li><strong>binding DataStore to the server-side:</strong></li>
</ul>

<pre><code><pre class="js"><span class="kw2">var</span> data1 <span class="sy0">=</span> <span class="kw2">new</span> dhtmlXDataStore<span class="br0">&#40;</span><span class="br0">&#123;</span> url<span class="sy0">:</span><span class="st0">&quot;../data/data1.json&quot;</span><span class="sy0">,</span> datatype<span class="sy0">:</span><span class="st0">&quot;json&quot;</span> <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw2">var</span> data2 <span class="sy0">=</span> <span class="kw2">new</span> dhtmlXDataStore<span class="br0">&#40;</span><span class="br0">&#123;</span> dataFeed<span class="sy0">:</span><span class="st0">&quot;../data/json.php&quot;</span><span class="sy0">,</span> datatype<span class="sy0">:</span><span class="st0">&quot;json&quot;</span> <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
data2.<span class="me1">bind</span><span class="br0">&#40;</span>data1<span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>data<span class="sy0">,</span> filter<span class="br0">&#41;</span><span class="br0">&#123;</span>
    filter.<span class="kw2">Package</span> <span class="sy0">=</span> <span class="st0">&quot;Filter by &quot;</span><span class="sy0">+</span>data.<span class="kw2">Package</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
grid1.<span class="me1">attachEvent</span><span class="br0">&#40;</span><span class="st0">&quot;onSelectStateChanged&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>id<span class="br0">&#41;</span><span class="br0">&#123;</span>
    data1.<span class="me1">setCursor</span><span class="br0">&#40;</span>id<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
grid1.<span class="me1">sync</span><span class="br0">&#40;</span>data1<span class="br0">&#41;</span><span class="sy0">;</span>
grid2.<span class="me1">sync</span><span class="br0">&#40;</span>data2<span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<a name='unbindingdatastoreobjects'><h2>Unbinding DataStore objects</h2></a>

<p>The unbind() method is used to unbind 2 DataStore objects:</p>

<pre><code><pre class="js">...
<span class="me1">data2</span>.<span class="me1">bind</span><span class="br0">&#40;</span>data1<span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>data<span class="sy0">,</span> filter<span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span>filter<span class="br0">&#41;</span>
        <span class="kw1">return</span> data.<span class="me1">id</span> <span class="sy0">==</span> filter.<span class="me1">id</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
data2.<span class="me1">unbind</span><span class="br0">&#40;</span>data1<span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<a name='crudoperationsinboundcomponents'><h2>CRUD operations in bound components</h2></a>

<p>To perform any data manipulation in the bound-to-DataStore component(s) you should remember 
the main thing: operations are performed with components indirectly, by means of the related dhtmlxDataStore object.</p>

<p>What does it mean?
For example, if you want to delete some record from a grid, you should delete it from the DataStore the grid is bound to. 
After the record has been deleted from Datastore, it will be automatically deleted from the grid. 
This rule concerns any operation: update, deletion, creation, filtering or sorting.</p>

<pre><code><pre class="js"><span class="kw2">var</span> store <span class="sy0">=</span> <span class="kw2">new</span> dhtmlXDataStore<span class="br0">&#40;</span><span class="br0">&#123;</span>  
    url<span class="sy0">:</span><span class="st0">&quot;php/data.php&quot;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
myGrid.<span class="me1">sync</span><span class="br0">&#40;</span>store<span class="br0">&#41;</span><span class="sy0">;</span>
...
<span class="kw2">var</span> selectedItem <span class="sy0">=</span> myGrid.<span class="me1">getSelectedRowId</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
store.<span class="me1">remove</span><span class="br0">&#40;</span>selectedItem<span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<h3>Tip 1</h3>

<p>Some components (<a class="link-" href="grid__index.html">grid</a>, <a class="link-" href="dataview__index.html">dataview</a>, <a class="link-" href="form__index.html">form</a>) while being bound to dataStore
start to have the method <strong>save(item_id)</strong> available. 
The method allows you to save changes in Datastore programmatically.</p>

<p>Let's assume, you have a grid. When you edit some record and press 'Enter', the changes are saved automatically. 
To save some data programmatically just use the following code:</p>

<pre><code><pre class="js"><span class="kw2">var</span> store <span class="sy0">=</span> <span class="kw2">new</span> dhtmlXDataStore<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
myDP <span class="sy0">=</span> <span class="kw2">new</span> dataProcessor<span class="br0">&#40;</span><span class="st0">&quot;php/data.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
myDP.<span class="me1">init</span><span class="br0">&#40;</span>store<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
grid.<span class="me1">sync</span><span class="br0">&#40;</span>store<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw2">var</span> selectedItem <span class="sy0">=</span> myGrid.<span class="me1">getSelectedRowId</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
grid.<span class="me1">save</span><span class="br0">&#40;</span>selectedItem<span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<h3>Tip 2</h3>

<p>The second tip concerns the method <strong>setCursor(item_id)</strong>. When dealing with several components, 
you can be confused while loading data from master to slave components  - for which one to call the method.
Remember, the method is called for the master to push data to slaves.</p>

<p>For example, if you have a grid bound to DataStore and a form bound to the grid, and want to update form data, call:</p>

<pre><code><pre class="js">myform.<span class="me1">bind</span><span class="br0">&#40;</span>mygrid<span class="br0">&#41;</span><span class="sy0">;</span>
mygrid.<span class="me1">setCursor</span><span class="br0">&#40;</span>row_id<span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<a name='sortingandfilteringingridbindedtodatastore'><h2>Sorting and Filtering in Grid binded to DataStore</h2></a>

<p>When you bind Grid to DataStore, the filtering and sorting functions won't work properly in Grid.<br />
If you reload the page, the changes made in Grid will be reverted, as DataStore won't apply them.</p>

<p>To solve this issue, while binding grid to datastore with the help of the <a class="link-" href="api__datastore_sync.html">sync</a> method, you need to pass the second parameter 
to this method - object with two attributes that switches on the filtering and sorting functionality of DataStore:</p>

<ul>
<li>rule - (object) object with two attributes to enable filtering and sorting of DataStore</li>
</ul>

<pre><code><pre class="js">myGrid.<span class="me1">sync</span><span class="br0">&#40;</span>data<span class="sy0">,</span> <span class="br0">&#123;</span>sort<span class="sy0">:</span><span class="kw2">true</span><span class="sy0">,</span> filter<span class="sy0">:</span><span class="kw2">true</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p>In the downloaded dhtmlxSuite package you can find a sample of such a case, by following the path <strong>dhtmlxDataStore/samples/04_mastergrid/01_client.html</strong>.</p>

<!-- Content Area End -->
			<a href='datastore__binding_components_to_dhtmlxdatastore.html#top' class='top_link'>Back to top</a>
			
		</div>
		</div>
	</div>
	<div class="footer">
		<div class='content'>
			<ul class='column'>
	<li class='group'>Suite 5.X Collection</li>
	<li><a href='accordion__index.html'>Accordion</a></li>
	<li><a href='calendar__index.html'>Calendar</a></li>
	<li><a href='carousel__index.html'>Carousel</a></li>
	<li><a href='chart__index.html'>Chart</a></li>
	<li><a href='colorpicker__index.html'>ColorPicker</a></li>
	<li><a href='combo__index.html'>Combo</a></li>
	<li><a href='dataview__index.html'>DataView</a></li>	
</ul>
<ul class='column'>
	<li class='group'>&nbsp;</li>
	<li><a href='form__index.html'>Form</a></li>
	<li><a href='grid__index.html'>Grid</a></li>
	<li><a href='layout__index.html'>Layout</a></li>
	<li><a href='list__index.html'>List</a></li>
	<li><a href='menu__index.html'>Menu</a></li>
	<li><a href='popup__index.html'>Popup</a></li>
	<li><a href='ribbon__index.html'>Ribbon</a></li>		
</ul>
<ul class='column'>
	<li class='group'>&nbsp;</li>
	<li><a href='sidebar__index.html'>Sidebar</a></li>
	<li><a href='slider__index.html'>Slider</a></li>
	<li><a href='tabbar__index.html'>Tabbar</a></li>
	<li><a href='toolbar__index.html'>Toolbar</a></li>
	<li><a href='treegrid__index.html'>TreeGrid</a></li>
	<li><a href='treeview__index.html'>TreeView</a></li>
	<li><a href='windows__index.html'>Windows</a></li>
</ul>
<ul class='column'>
	<li class='group'>Other Components</li>
	<li><a href='diagram/index.html'>Diagram</a></li>
	<li><a href='gantt/index.html'>Gantt</a></li>
	<li><a href='pivot/index.html'>Pivot</a></li>
	<li><a href='richtext/index.html'>RichText</a></li>
	<li><a href='scheduler/index.html'>Scheduler</a></li>
	<li><a href='spreadsheet/index.html'>SpreadSheet</a></li>
	<li><a href='vault/index.html'>Vault</a></li>
</ul>
<ul class='column'>
	<li class='group'>Data Saving</li>
	<li><a href='datastore__index.html'>DataStore</a></li>
	<li><a href='dataprocessor__index.html'>DataProcessor</a></li>
	<li><a href='connector__php__index.html'>PHP connector</a></li>
	<li><a href='connector__java__index.html'>Java connector</a></li>
	<li><a href='connector__net__index.html'>.Net connector</a></li>
	<li><a href='connector__cf__index.html'>ColdFusion</a></li>
</ul>
<ul class='column'>
	<li class='group'>Tools&Helpers</li>	
	<li><a href='formbuilder__index.html'>Form Builder</a></li>
	<li><a href='libcompiler__index.html'>LibCompiler</a></li>
	<li><a href='optimus__index.html'>Optimus Framework</a></li>
	<li><a href='dhxskinbuilder_4_x.html'>Skin Builder</a></li>
	<li><a href='http://snippet.dhtmlx.com/'>Snippet Editor</a></li>
	<li><a href='designer__index.html'>Visual Designer</a></li>
	<li><a href='helpers__index.html'>Helpers</a></li>
</ul>
		</div>
	</div>
	<script src="assets/autocomplete.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		AutoComplete_init("");
		Scroll_init();
	</script>	
</body>
</html>
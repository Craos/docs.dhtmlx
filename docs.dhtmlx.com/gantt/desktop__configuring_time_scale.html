<!doctype html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="assets/docs-v=1599487766.css">
		<link rel="stylesheet" type="text/css" href="assets/theme-v=1599487766.css">
		<link rel="search" type="application/opensearchdescription+xml" title="Gantt Docs" href="https://docs.dhtmlx.com/gantt/assets/opensearch.xml">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="initial-scale = 1.0" />
		<meta name="description" content="" />
		<link href="assets/favicon.ico" rel="shortcut icon" />
		<!--[if lte IE 9]>
			<link rel="stylesheet" type="text/css" href="assets/ie.css" />
		<![endif]-->
		<!-- stub -->
		<title>Setting up Scale  Gantt Docs</title>
	</head>
<body class="page_">
	<!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5M5RCSJ');</script><!-- End Google Tag Manager -->
	<a name="top"></a>
	
	<div class='headerBox'>
	<div class="header">
		<div class='content'>
			<a href='https://dhtmlx.com' class='top_logo'></a>
			<div class='top_menu'>
				<a href="samples/index.html">Samples</a>
				<a href="https://forum.dhtmlx.com/viewforum.php?f=15">Forum</a>
				<a href="https://dhtmlx.com/docs/technical-support.shtml">Support</a>
			</div>
			<span><a href='index.html' style="color:white">Documentation</a></span>
		</div>
	</div>
	</div>

	<div class="body">
		<div class="content">
		<div class="navigation">
			<div id="doc_navigation">
			<div class="search">
				<form method="get" action="search.php">
					<input type="text" accesskey="f" name="query" placeholder="Search the docs..." value="" autocomplete="off">
						<button type="submit"><img src="assets/common/search_icon.png"/></button>
				</form>
			</div>
			<ul><li class=" current"><a href="desktop__configuring_time_scale.html">Setting up Scale</a></li><ul><li class="inner"><a href="desktop__configuring_time_scale.html#timeunits">Time units</a></li><li class="inner"><a href="desktop__configuring_time_scale.html#range">Range</a></li><li class="inner"><a href="desktop__configuring_time_scale.html#timestep">Time step</a></li><li class="inner"><a href="desktop__configuring_time_scale.html#height">Height</a></li><li class="inner"><a href="desktop__configuring_time_scale.html#dateformat">Date format</a></li><li class="inner"><a href="desktop__configuring_time_scale.html#styling">Styling</a></li><li class="inner"><a href="desktop__configuring_time_scale.html#customtimeunits">Custom time units</a></li></ul><li class=""><a href="desktop__zooming.html">Zooming</a></li><li class=""><a href="desktop__highlighting_time_slots.html">Highlighting  Time Slots</a></li><li class="toc-deprecated"><a href="desktop__second_scale.html">Adding Second Scale(s)</a></li><li class=""><a href="desktop__dynamic_scale.html">Dynamic Change of Scale Settings</a></li><li class="toc-pro"><a href="desktop__custom_scale.html">Hiding Time Units in the Scale</a></li><li class=""><a href="desktop__markers.html">Adding Vertical Markers</a></li><li class=""><a href="desktop__rtl_mode.html">RTL (Right-to-left) Mode</a></li></ul>
			</div>
		</div>	  
	  
		<div class='doc' id='doc_content'>
			
			
			<div class='breadcrumb'><a class="n1" href="index.html">Start</a><a class="n2" href="desktop__guides.html">Guides</a><a class="n3" href="desktop__time_scale.html">Configuring Scales</a></div>
<!-- Content Area -->



<h1>Setting up Scale</h1>

<p><img src="media/desktop/gantt_dates.png"/></p>

<p>The configuration of scales is specified via the <a class="link-" href="api__gantt_scales_config.html">scales</a> property. You can specify any number of scales by setting scale objects in the array of the <strong>scales</strong> config:</p>

<pre><code><pre class="js"><span class="co1">// a single day-scale</span>
gantt.<span class="me1">config</span>.<span class="me1">scales</span> <span class="sy0">=</span> <span class="br0">&#91;</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;day&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%j, %D&quot;</span><span class="br0">&#125;</span>
<span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// several scales at once</span>
gantt.<span class="me1">config</span>.<span class="me1">scales</span> <span class="sy0">=</span> <span class="br0">&#91;</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;month&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%F, %Y&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;week&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> weekScaleTemplate<span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;day&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span><span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%D&quot;</span><span class="sy0">,</span> css<span class="sy0">:</span>daysStyle <span class="br0">&#125;</span>
<span class="br0">&#93;</span><span class="sy0">;</span></pre></code></pre>

<p>It is possible to configure the following aspects of the time scale (X-Axis):</p>

<ol>
<li><a href="desktop__configuring_time_scale.html#timeunits">Unit</a></li>
<li><a href="desktop__configuring_time_scale.html#range">Range</a></li>
<li><a href="desktop__configuring_time_scale.html#timestep">Step</a></li>
<li><a href="desktop__configuring_time_scale.html#height">Height</a></li>
<li><a href="desktop__configuring_time_scale.html#dateformat">Format</a></li>
<li><a href="desktop__configuring_time_scale.html#styling">Style</a></li>
</ol>

<p>You can also add a <a href="desktop__configuring_time_scale.html#customtimeunits">custom scale</a>.</p>

<a name='timeunits'><h2>Time units</h2></a>

<p><img src="media/desktop/month_day_scale_units.png"/></p>

<p>To set the unit of the scale, use the <strong>unit</strong> property in the corresponding scale object:</p>

<p>Possible values are: "minute", "hour", "day", "week", "quarter", "month", "year".</p>

<pre><code><pre class="js">gantt.<span class="me1">config</span>.<span class="me1">scales</span> <span class="sy0">=</span> <span class="br0">&#91;</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;month&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%F, %Y&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;day&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%j, %D&quot;</span><span class="br0">&#125;</span>
<span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
gantt.<span class="me1">init</span><span class="br0">&#40;</span><span class="st0">&quot;gantt_here&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p><a href='samples/03_scales/02_month_days.html' target='blank'><span class='sample'>Related sample: </span>&nbsp;Month view</a></p>

<a name='range'><h2>Range</h2></a>

<p><img src="media/desktop/day_scale_unit.png"/></p>

<h3>Default range settings</h3>

<p>If you don't specify the date range explicitly, Gantt uses the dates of the loaded tasks and adds offsets before the first and after the last task in the scale. The offset is defined by the settings of the time scale.
Depending on the <a class="link-" href="api__gantt_scale_offset_minimal_config.html">scale_offset_minimal</a> value, it will be either the time unit defined in via 
the <strong>unit</strong> attribute of the <a class="link-" href="api__gantt_scales_config.html">scales</a> option or by the smallest of the time scale units.</p>

<p>You can get the displayed date range programmatically using the <a class="link-" href="api__gantt_getstate.html">getState</a> method.</p>

<pre><code><pre class="js"><span class="kw2">var</span> state <span class="sy0">=</span> gantt.<span class="me1">getState</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
console.<span class="me1">log</span><span class="br0">&#40;</span>state.<span class="me1">min_date</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="co1">// -&gt; Mon Jan 01 2018 00:00:00</span>
&nbsp;
console.<span class="me1">log</span><span class="br0">&#40;</span>state.<span class="me1">max_date</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="co1">// -&gt; Tue Jan 01 2019 00:00:00</span></pre></code></pre>

<p>The scale range is recalculated on <a class="link-" href="api__gantt_render.html">gantt rendering</a>. If the user moves a task outside the displayed time range, the task row will be displayed, but the bar element won't be visible until complete repainting is done.</p>

<p>In order to adjust scale automatically, use the <a class="link-" href="api__gantt_fit_tasks_config.html">fit_tasks</a> config.</p>

<pre><code><pre class="js">gantt.<span class="me1">config</span>.<span class="me1">fit_tasks</span> <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span> 
gantt.<span class="me1">init</span><span class="br0">&#40;</span><span class="st0">&quot;gantt_here&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p><a href='samples/03_scales/08_scale_autoconfig.html' target='blank'><span class='sample'>Related sample: </span>&nbsp;Auto resize scale</a></p>

<h3 id="explicit_date_range">Setting date range explicitly</h3>

<p>Alternatively, you can set the date range explicitly by using the <a class="link-" href="api__gantt_start_date_config.html">start_date</a> and <a class="link-" href="api__gantt_end_date_config.html">end_date</a> configuration options:</p>

<pre><code><pre class="js">gantt.<span class="me1">config</span>.<span class="me1">start_date</span> <span class="sy0">=</span> <span class="kw2">new</span> Date<span class="br0">&#40;</span><span class="nu0">2018</span><span class="sy0">,</span> 02<span class="sy0">,</span> <span class="nu0">31</span><span class="br0">&#41;</span><span class="sy0">;</span>
gantt.<span class="me1">config</span>.<span class="me1">end_date</span> <span class="sy0">=</span> <span class="kw2">new</span> Date<span class="br0">&#40;</span><span class="nu0">2018</span><span class="sy0">,</span> 03<span class="sy0">,</span> 09<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
gantt.<span class="me1">init</span><span class="br0">&#40;</span><span class="st0">&quot;gantt_here&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p>They can also be specified in the <a class="link-" href="api__gantt_init.html">gantt initialization</a> call:</p>

<pre><code><pre class="js">gantt.<span class="me1">init</span><span class="br0">&#40;</span><span class="st0">&quot;gantt_here&quot;</span><span class="sy0">,</span> <span class="kw2">new</span> Date<span class="br0">&#40;</span><span class="nu0">2018</span><span class="sy0">,</span> 02<span class="sy0">,</span> <span class="nu0">31</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw2">new</span> Date<span class="br0">&#40;</span><span class="nu0">2018</span><span class="sy0">,</span> 03<span class="sy0">,</span> 09<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p><a href='samples/01_initialization/08_explicit_time_range.html' target='blank'><span class='sample'>Related sample: </span>&nbsp;Define date range</a></p>

<p>The tasks that don't fit into the specified interval won't be displayed in the Gantt chart, unless they are <a class="link-" href="desktop__unscheduled_tasks.html">marked as unscheduled</a>.</p>

<p><a href='samples/01_initialization/19_tasks_without_dates.html' target='blank'><span class='sample'>Related sample: </span>&nbsp;Show Unscheduled Tasks</a></p>

<h4 id="note">Note</h4>

<p>If both the <strong>start_date</strong> and <strong>end_date</strong> options are specified and you create a task that is outside the range, the task will disappear from the chart.
<a class="link-" href="desktop__configuring_time_scale.html#tasksoutsidetimescale">To display the task</a> in the chart use the <a class="link-" href="api__gantt_show_tasks_outside_timescale_config.html">show_tasks_outside_timescale</a> config.</p>

<pre><code><pre class="js">gantt.<span class="me1">config</span>.<span class="me1">start_date</span> <span class="sy0">=</span> <span class="kw2">new</span> Date<span class="br0">&#40;</span><span class="nu0">2019</span><span class="sy0">,</span> 02<span class="sy0">,</span> <span class="nu0">31</span><span class="br0">&#41;</span><span class="sy0">;</span>
gantt.<span class="me1">config</span>.<span class="me1">end_date</span> <span class="sy0">=</span> <span class="kw2">new</span> Date<span class="br0">&#40;</span><span class="nu0">2019</span><span class="sy0">,</span> 03<span class="sy0">,</span> 09<span class="br0">&#41;</span><span class="sy0">;</span>
gantt.<span class="me1">config</span>.<span class="me1">show_tasks_outside_timescale</span> <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span>
&nbsp;
gantt.<span class="me1">init</span><span class="br0">&#40;</span><span class="st0">&quot;gantt_here&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p>In case you don't use this config you can extend the range:</p>

<pre><code><pre class="js">gantt.<span class="me1">attachEvent</span><span class="br0">&#40;</span><span class="st0">&quot;onLightboxSave&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>id<span class="sy0">,</span> task<span class="sy0">,</span> is_new<span class="br0">&#41;</span><span class="br0">&#123;</span>
 <span class="kw2">var</span> taskStart <span class="sy0">=</span> task.<span class="me1">start_date</span><span class="sy0">;</span>
 <span class="kw2">var</span> taskEnd <span class="sy0">=</span> task.<span class="me1">end_date</span><span class="sy0">;</span>
 <span class="kw2">var</span> scaleStart <span class="sy0">=</span> gantt.<span class="me1">config</span>.<span class="me1">start_date</span><span class="sy0">;</span>
 <span class="kw2">var</span> scaleEnd <span class="sy0">=</span> gantt.<span class="me1">config</span>.<span class="me1">end_date</span><span class="sy0">;</span>
&nbsp;
 <span class="co1">// if the task is out of the range</span>
 <span class="kw1">if</span><span class="br0">&#40;</span>scaleStart <span class="sy0">&gt;</span> taskEnd <span class="sy0">||</span> scaleEnd <span class="sy0">&lt;</span> taskStart <span class="br0">&#41;</span><span class="br0">&#123;</span>
  <span class="co1">// update timescale range</span>
  gantt.<span class="me1">config</span>.<span class="me1">end_date</span><span class="sy0">=</span><span class="kw2">new</span> Date<span class="br0">&#40;</span>Math.<span class="me1">max</span><span class="br0">&#40;</span>taskEnd.<span class="me1">valueOf</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span> scaleEnd.<span class="me1">valueOf</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  gantt.<span class="me1">config</span>.<span class="me1">start_date</span><span class="sy0">=</span><span class="kw2">new</span> Date<span class="br0">&#40;</span>Math.<span class="me1">min</span><span class="br0">&#40;</span>taskStart.<span class="me1">valueOf</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span>scaleStart.<span class="me1">valueOf</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  gantt.<span class="me1">render</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="br0">&#125;</span>    
 <span class="kw1">return</span> <span class="kw2">true</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p>Or add validation to the lightbox control:</p>

<pre><code><pre class="js">gantt.<span class="me1">attachEvent</span><span class="br0">&#40;</span><span class="st0">&quot;onLightboxSave&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>id<span class="sy0">,</span> task<span class="sy0">,</span> is_new<span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw2">var</span> taskStart <span class="sy0">=</span> task.<span class="me1">start_date</span><span class="sy0">;</span>
    <span class="kw2">var</span> taskEnd <span class="sy0">=</span> task.<span class="me1">end_date</span><span class="sy0">;</span>
    <span class="kw2">var</span> scaleStart <span class="sy0">=</span> gantt.<span class="me1">config</span>.<span class="me1">start_date</span><span class="sy0">;</span>
    <span class="kw2">var</span> scaleEnd <span class="sy0">=</span> gantt.<span class="me1">config</span>.<span class="me1">end_date</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// check if the task is out of the range</span>
    <span class="kw1">if</span><span class="br0">&#40;</span>scaleStart <span class="sy0">&gt;</span> taskEnd <span class="sy0">||</span> scaleEnd <span class="sy0">&lt;</span> taskStart <span class="br0">&#41;</span><span class="br0">&#123;</span>
        gantt.<span class="me1">message</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
            type<span class="sy0">:</span><span class="st0">&quot;warning&quot;</span><span class="sy0">,</span> 
            text<span class="sy0">:</span><span class="st0">&quot;Warning! The task is outside the date range!&quot;</span><span class="sy0">,</span>
            expire<span class="sy0">:</span><span class="nu0">5000</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
          <span class="kw1">return</span> <span class="kw2">false</span><span class="sy0">;</span>
    <span class="br0">&#125;</span> 
    <span class="kw1">return</span> <span class="kw2">true</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<h3 id="dynamic_scale">Changing the displayed range dynamically</h3>

<p>There are several ways of how you can change the displayed range on the fly:</p>

<ul>
<li>you can control the time range with the help of the <strong>start_date / end_date</strong> configs, but dynamically adjust them to display loaded tasks.</li>
</ul>

<p>You can do it by <a class="link-" href="api__gantt_getsubtaskdates.html">recalculating the scale range</a> via updating the <strong>start_date / end_date</strong> configs each time gantt is repainted:</p>

<pre><code><pre class="js">gantt.<span class="me1">attachEvent</span><span class="br0">&#40;</span><span class="st0">&quot;onBeforeGanttRender&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
   <span class="kw2">var</span> range <span class="sy0">=</span> gantt.<span class="me1">getSubtaskDates</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
   <span class="kw2">var</span> scaleUnit <span class="sy0">=</span> gantt.<span class="me1">getState</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">scale_unit</span><span class="sy0">;</span>
   <span class="kw1">if</span><span class="br0">&#40;</span>range.<span class="me1">start_date</span> <span class="sy0">&amp;&amp;</span> range.<span class="me1">end_date</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
     gantt.<span class="me1">config</span>.<span class="me1">start_date</span> <span class="sy0">=</span> gantt.<span class="me1">calculateEndDate</span><span class="br0">&#40;</span>range.<span class="me1">start_date</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">4</span><span class="sy0">,</span> scaleUnit<span class="br0">&#41;</span><span class="sy0">;</span>
     gantt.<span class="me1">config</span>.<span class="me1">end_date</span> <span class="sy0">=</span> gantt.<span class="me1">calculateEndDate</span><span class="br0">&#40;</span>range.<span class="me1">end_date</span><span class="sy0">,</span> <span class="nu0">5</span><span class="sy0">,</span> scaleUnit<span class="br0">&#41;</span><span class="sy0">;</span>
   <span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
gantt.<span class="me1">init</span><span class="br0">&#40;</span><span class="st0">&quot;gantt_here&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<ul>
<li>to 'force' the scale re-render each time a task doesn't fit into the existing scale interval, set the <a class="link-" href="api__gantt_fit_tasks_config.html">fit_tasks</a> property to <em>true</em>:</li>
</ul>

<pre><code><pre class="js">gantt.<span class="me1">config</span>.<span class="me1">fit_tasks</span> <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span> 
gantt.<span class="me1">init</span><span class="br0">&#40;</span><span class="st0">&quot;gantt_here&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p>In case both the <strong>start_date</strong> and <strong>end_date</strong> options are specified, you need to <a href="desktop__configuring_time_scale.html#note">make use of one of the options described above</a> for the <strong>fit_tasks</strong> property to work correctly.</p>

<ul>
<li>it is also possible to automatically change the scale while dragging a task by specifying the necessary logic inside the handler of the <a class="link-" href="api__gantt_ontaskdrag_event.html">onTaskDrag</a> event:</li>
</ul>

<pre><code><pre class="js">gantt.<span class="me1">attachEvent</span><span class="br0">&#40;</span><span class="st0">&quot;onTaskDrag&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span>id<span class="sy0">,</span> mode<span class="sy0">,</span> task<span class="sy0">,</span> original<span class="br0">&#41;</span><span class="br0">&#123;</span>
 <span class="kw2">var</span> state <span class="sy0">=</span> gantt.<span class="me1">getState</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
 <span class="kw2">var</span> minDate <span class="sy0">=</span> state.<span class="me1">min_date</span><span class="sy0">,</span>
     maxDate <span class="sy0">=</span> state.<span class="me1">max_date</span><span class="sy0">;</span>
&nbsp;
 <span class="kw2">var</span> scaleStep<span class="sy0">=</span>gantt.<span class="me1">date</span>.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw2">new</span> Date<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span>state.<span class="me1">scale_step</span><span class="sy0">,</span>state.<span class="me1">scale_unit</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="kw2">new</span> Date<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
 <span class="kw2">var</span> showDate<span class="sy0">,</span>
  repaint <span class="sy0">=</span> <span class="kw2">false</span><span class="sy0">;</span>
  <span class="kw1">if</span><span class="br0">&#40;</span>mode <span class="sy0">==</span> <span class="st0">&quot;resize&quot;</span> <span class="sy0">||</span> mode <span class="sy0">==</span> <span class="st0">&quot;move&quot;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw1">if</span><span class="br0">&#40;</span>Math.<span class="me1">abs</span><span class="br0">&#40;</span>task.<span class="me1">start_date</span> <span class="sy0">-</span> minDate<span class="br0">&#41;</span> <span class="sy0">&lt;</span> scaleStep<span class="br0">&#41;</span><span class="br0">&#123;</span>
      showDate <span class="sy0">=</span> task.<span class="me1">start_date</span><span class="sy0">;</span>
      repaint <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span>
&nbsp;
    <span class="br0">&#125;</span><span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>Math.<span class="me1">abs</span><span class="br0">&#40;</span>task.<span class="me1">end_date</span> <span class="sy0">-</span> maxDate<span class="br0">&#41;</span> <span class="sy0">&lt;</span> scaleStep<span class="br0">&#41;</span><span class="br0">&#123;</span>
      showDate <span class="sy0">=</span> task.<span class="me1">end_date</span><span class="sy0">;</span>
      repaint <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw1">if</span><span class="br0">&#40;</span>repaint<span class="br0">&#41;</span><span class="br0">&#123;</span>
      gantt.<span class="me1">render</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
      gantt.<span class="me1">showDate</span><span class="br0">&#40;</span>showDate<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
  <span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p><a href='snippet/d3c07958.html' target='blank'><span class='sample'>Related sample: </span>&nbsp;Re-rendering Scale during Task Dragging</a></p>

<h3 id="tasksoutsidetimescale">Displaying tasks outside the explicit date range</h3>

<p>It is possible to show tasks that don't fit into <a class="link-" href="desktop__configuring_time_scale.html#explicit_date_range">the specified date range</a> in the Gantt chart.</p>

<p><img src="media/desktop/tasks_outside_timescale.png"/></p>

<p>To do this you need to set the <a class="link-" href="api__gantt_show_tasks_outside_timescale_config.html">show_tasks_outside_timescale</a> config parameter to <em>true</em>:</p>

<pre><code><pre class="js"><span class="kw2">var</span> data <span class="sy0">=</span> <span class="br0">&#123;</span>
  <span class="st0">&quot;tasks&quot;</span><span class="sy0">:</span> <span class="br0">&#91;</span>
    <span class="br0">&#123;</span><span class="st0">&quot;id&quot;</span><span class="sy0">:</span><span class="nu0">1</span><span class="sy0">,</span> <span class="st0">&quot;text&quot;</span><span class="sy0">:</span><span class="st0">&quot;Project #1&quot;</span><span class="sy0">,</span> <span class="st0">&quot;start_date&quot;</span><span class="sy0">:</span> <span class="st0">&quot;01-09-2018&quot;</span><span class="sy0">,</span> <span class="st0">&quot;end_date&quot;</span><span class="sy0">:</span> <span class="st0">&quot;02-09-2018&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span><span class="st0">&quot;id&quot;</span><span class="sy0">:</span><span class="nu0">2</span><span class="sy0">,</span> <span class="st0">&quot;text&quot;</span><span class="sy0">:</span><span class="st0">&quot;Project #2&quot;</span><span class="sy0">,</span> <span class="st0">&quot;start_date&quot;</span><span class="sy0">:</span> <span class="st0">&quot;01-09-2021&quot;</span><span class="sy0">,</span> <span class="st0">&quot;end_date&quot;</span><span class="sy0">:</span> <span class="st0">&quot;02-09-2021&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span><span class="st0">&quot;id&quot;</span><span class="sy0">:</span><span class="nu0">3</span><span class="sy0">,</span> <span class="st0">&quot;text&quot;</span><span class="sy0">:</span><span class="st0">&quot;Task #1&quot;</span><span class="sy0">,</span> <span class="st0">&quot;start_date&quot;</span><span class="sy0">:</span> <span class="st0">&quot;03-02-2020&quot;</span><span class="sy0">,</span> <span class="st0">&quot;end_date&quot;</span><span class="sy0">:</span> <span class="st0">&quot;05-02-2020&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#93;</span><span class="sy0">,</span>
    <span class="st0">&quot;links&quot;</span><span class="sy0">:</span><span class="br0">&#91;</span><span class="br0">&#93;</span>
<span class="br0">&#125;</span><span class="sy0">;</span>
&nbsp;
gantt.<span class="me1">config</span>.<span class="me1">show_tasks_outside_timescale</span> <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span>
&nbsp;
gantt.<span class="me1">init</span><span class="br0">&#40;</span><span class="st0">&quot;gantt_here&quot;</span><span class="sy0">,</span> <span class="kw2">new</span> Date<span class="br0">&#40;</span><span class="nu0">2020</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw2">new</span> Date<span class="br0">&#40;</span><span class="nu0">2020</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p><a href='samples/01_initialization/20_tasks_outside_timescale.html' target='blank'><span class='sample'>Related sample: </span>&nbsp;Tasks outside timescale</a></p>

<p>As a result the tasks with the id "1" and "2" will be displayed on the page as empty rows in the timeline area and with the specified names and start dates in the grid.</p>

<a name='timestep'><h2>Time step</h2></a>

<p><img src="media/desktop/scale_step.png"/></p>

<p>To set the step of the time scale, use the <strong>step</strong> property in the corresponding scale object:</p>

<pre><code><pre class="js"><span class="kw2">var</span> monthScaleTemplate <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">&#40;</span>date<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw2">var</span> dateToStr <span class="sy0">=</span> gantt.<span class="me1">date</span>.<span class="me1">date_to_str</span><span class="br0">&#40;</span><span class="st0">&quot;%M&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw2">var</span> endDate <span class="sy0">=</span> gantt.<span class="me1">date</span>.<span class="me1">add</span><span class="br0">&#40;</span>date<span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="st0">&quot;month&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw1">return</span> dateToStr<span class="br0">&#40;</span>date<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">&quot; - &quot;</span> <span class="sy0">+</span> dateToStr<span class="br0">&#40;</span>endDate<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span>
&nbsp;
&nbsp;
gantt.<span class="me1">config</span>.<span class="me1">scales</span> <span class="sy0">=</span> <span class="br0">&#91;</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;year&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%Y&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;month&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">3</span><span class="sy0">,</span> format<span class="sy0">:</span> monthScaleTemplate<span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;month&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%M&quot;</span><span class="br0">&#125;</span>
<span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
&nbsp;
gantt.<span class="me1">init</span><span class="br0">&#40;</span><span class="st0">&quot;gantt_here&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p><a href='samples/03_scales/03_full_year.html' target='blank'><span class='sample'>Related sample: </span>&nbsp;Year scale</a></p>

<a name='height'><h2>Height</h2></a>

<p><img src="media/desktop/scale_height.png"/></p>

<p>To set the height of the scale, use the <a class="link-" href="api__gantt_scale_height_config.html">scale_height</a> property:</p>

<pre><code><pre class="js"><span class="xtra ln-xtra">gantt.<span class="me1">config</span>.<span class="me1">scale_height</span> <span class="sy0">=</span> <span class="nu0">54</span><span class="sy0">;</span> </span>&nbsp;
gantt.<span class="me1">init</span><span class="br0">&#40;</span><span class="st0">&quot;gantt_here&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p><a href='samples/03_scales/04_days.html' target='blank'><span class='sample'>Related sample: </span>&nbsp;Day hours</a></p>

<p>If you have several scales, they will share the specified height equally. For example, if <strong>scale_height</strong> is 60 pixels and you have 3 scales, each scale will have the height of 60 / 3 = 20 pixels.</p>

<a name='dateformat'><h2>Date format</h2></a>

<div class='note'><p><p>See the <a class="link-" href="desktop__date_format.html">Date Format Specification</a> article to know about available format characters</p>
</p></div>

<p>To set the format of the scale, use the <strong>format</strong> property in the corresponding scale object. The format of date can be set as a string:</p>

<pre><code><pre class="js">gantt.<span class="me1">config</span>.<span class="me1">scales</span> <span class="sy0">=</span> <span class="br0">&#91;</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;month&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%F, %Y&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;week&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> weekScaleTemplate<span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;day&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span><span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%D&quot;</span><span class="sy0">,</span> css<span class="sy0">:</span>daysStyle <span class="br0">&#125;</span>
<span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
gantt.<span class="me1">init</span><span class="br0">&#40;</span><span class="st0">&quot;gantt_here&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<p><a href='samples/03_scales/01_multiple_scales.html' target='blank'><span class='sample'>Related sample: </span>&nbsp;Multiple scales</a></p>

<p><img style="margin-top:12px; margin-bottom:20px;" src="media/desktop/multiple_scales.png"/></p>

<p>Or as a function that takes a date object as a parameter:</p>

<pre><code><pre class="js">gantt.<span class="me1">config</span>.<span class="me1">scales</span> <span class="sy0">=</span> <span class="br0">&#91;</span>
  <span class="br0">&#123;</span> unit<span class="sy0">:</span> <span class="st0">&quot;day&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span><span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="kw2">function</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw1">return</span> <span class="st0">&quot;&lt;strong&gt;Day &quot;</span> <span class="sy0">+</span> dayNumber<span class="br0">&#40;</span>date<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">&quot;&lt;/strong&gt;&lt;br/&gt;&quot;</span> <span class="sy0">+</span> dateFormat<span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span>
<span class="br0">&#93;</span></pre></code></pre>

<p><a href='samples/03_scales/06_custom_scales.html' target='blank'><span class='sample'>Related sample: </span>&nbsp;Custom scales</a></p>

<p><img style="margin-top:12px;" src="media/desktop/scale_template.png"/></p>

<a name='styling'><h2>Styling</h2></a>

<p><img src="media/desktop/css_styling.png"/></p>

<p>To style the cells of the time scale, use the <strong>css</strong> attribute in the corresponding scale object.</p>

<pre><code><pre class="js"><span class="kw2">function</span> getWeekOfMonthNumber<span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#123;</span>
    let adjustedDate <span class="sy0">=</span> date.<span class="me1">getDate</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">+</span>date.<span class="me1">getDay</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    let prefixes <span class="sy0">=</span> <span class="br0">&#91;</span><span class="st0">'0'</span><span class="sy0">,</span> <span class="st0">'1'</span><span class="sy0">,</span> <span class="st0">'2'</span><span class="sy0">,</span> <span class="st0">'3'</span><span class="sy0">,</span> <span class="st0">'4'</span><span class="sy0">,</span> <span class="st0">'5'</span><span class="br0">&#93;</span><span class="sy0">;</span>
    <span class="kw1">return</span> <span class="br0">&#40;</span>parseInt<span class="br0">&#40;</span>prefixes<span class="br0">&#91;</span><span class="nu0">0</span> <span class="sy0">|</span> adjustedDate <span class="sy0">/</span> <span class="nu0">7</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">+</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span> 
&nbsp;
gantt.<span class="me1">config</span>.<span class="me1">scales</span> <span class="sy0">=</span> <span class="br0">&#91;</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;month&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%F, %Y&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;week&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="kw2">function</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#123;</span>
       <span class="kw1">return</span> <span class="st0">&quot;Week #&quot;</span> <span class="sy0">+</span> getWeekOfMonthNumber<span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span><span class="br0">&#125;</span><span class="sy0">,</span>
<span class="xtra ln-xtra">    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;day&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span><span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%j %D&quot;</span><span class="sy0">,</span> css<span class="sy0">:</span> <span class="kw2">function</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span> <span class="br0">&#123;</span> </span>         <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>gantt.<span class="me1">isWorkTime</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#123;</span> 
             <span class="kw1">return</span> <span class="st0">&quot;week-end&quot;</span><span class="sy0">;</span> 
         <span class="br0">&#125;</span> 
    <span class="br0">&#125;</span><span class="br0">&#125;</span> 
<span class="br0">&#93;</span><span class="sy0">;</span></pre></code></pre>

<p><a href='https://snippet.dhtmlx.com/5/997ef604d' target='blank'><span class='sample'>Related sample: </span>&nbsp;Styling of cells of the time scale</a></p>

<p>In case the <strong>css</strong> property is not specified in the config of the scales, you can define the <a class="link-" href="api__gantt_scale_cell_class_template.html">scale_cell_class</a> template to apply the CSS class to the first time scale of the array of the <strong>scales</strong> config.</p>

<pre><code><pre class="js"><span class="kw2">function</span> getWeekOfMonthNumber<span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#123;</span>
    let adjustedDate <span class="sy0">=</span> date.<span class="me1">getDate</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">+</span>date.<span class="me1">getDay</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    let prefixes <span class="sy0">=</span> <span class="br0">&#91;</span><span class="st0">'0'</span><span class="sy0">,</span> <span class="st0">'1'</span><span class="sy0">,</span> <span class="st0">'2'</span><span class="sy0">,</span> <span class="st0">'3'</span><span class="sy0">,</span> <span class="st0">'4'</span><span class="sy0">,</span> <span class="st0">'5'</span><span class="br0">&#93;</span><span class="sy0">;</span>
    <span class="kw1">return</span> <span class="br0">&#40;</span>parseInt<span class="br0">&#40;</span>prefixes<span class="br0">&#91;</span><span class="nu0">0</span> <span class="sy0">|</span> adjustedDate <span class="sy0">/</span> <span class="nu0">7</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">+</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span> 
&nbsp;
gantt.<span class="me1">config</span>.<span class="me1">scales</span> <span class="sy0">=</span> <span class="br0">&#91;</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;month&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%F, %Y&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;week&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="kw2">function</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#123;</span>
       <span class="kw1">return</span> <span class="st0">&quot;Week #&quot;</span> <span class="sy0">+</span> getWeekOfMonthNumber<span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;day&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span><span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%j %D&quot;</span><span class="br0">&#125;</span>
<span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
gantt.<span class="me1">templates</span>.<span class="me1">scale_cell_class</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span> <span class="br0">&#123;</span>
         <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>gantt.<span class="me1">isWorkTime</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
             <span class="kw1">return</span> <span class="st0">&quot;week-end&quot;</span><span class="sy0">;</span>
         <span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="sy0">;</span></pre></code></pre>

<p><a href='https://snippet.dhtmlx.com/5/440576e8d' target='blank'><span class='sample'>Related sample: </span>&nbsp;Styling of the first time scale</a></p>

<p>To apply the <a class="link-" href="api__gantt_scale_cell_class_template.html">scale_cell_class</a> template to all scales of the time scale, set the <a class="link-" href="api__gantt_inherit_scale_class_config.html">inherit_scale_class</a> property to <em>true</em>.</p>

<pre><code><pre class="js">gantt.<span class="me1">config</span>.<span class="me1">scales</span> <span class="sy0">=</span> <span class="br0">&#91;</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;month&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%F, %Y&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;week&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="kw2">function</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#123;</span>
       <span class="kw1">return</span> <span class="st0">&quot;Week #&quot;</span> <span class="sy0">+</span> getWeekOfMonthNumber<span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>unit<span class="sy0">:</span> <span class="st0">&quot;day&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span><span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%j %D&quot;</span><span class="br0">&#125;</span>
<span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
gantt.<span class="me1">templates</span>.<span class="me1">scale_cell_class</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span> <span class="br0">&#123;</span>
         <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>gantt.<span class="me1">isWorkTime</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
             <span class="kw1">return</span> <span class="st0">&quot;week-end&quot;</span><span class="sy0">;</span>
         <span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="sy0">;</span>
<span class="xtra ln-xtra">gantt.<span class="me1">config</span>.<span class="me1">inherit_scale_class</span> <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span></span></pre></code></pre>

<p><a href='https://snippet.dhtmlx.com/5/98d26ef67' target='blank'><span class='sample'>Related sample: </span>&nbsp;Styling of all scales</a></p>

<p>Note that while using <a class="link-" href="desktop__working_time.html">work time calculations</a>, you can use <a class="link-" href="api__gantt_isworktime.html">isWorkTime</a> instead of hardcoded values:</p>

<pre><code><pre class="js">gantt.<span class="me1">config</span>.<span class="me1">work_time</span> <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span>
&nbsp;
gantt.<span class="me1">templates</span>.<span class="me1">scale_cell_class</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#123;</span>
   <span class="kw1">if</span><span class="br0">&#40;</span><span class="sy0">!</span>gantt.<span class="me1">isWorkTime</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
      <span class="kw1">return</span> <span class="st0">&quot;weekend&quot;</span><span class="sy0">;</span>
   <span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="sy0">;</span></pre></code></pre>

<p>Read more on applying a custom style to the timeline area in the <a class="link-" href="desktop__highlighting_time_slots.html">Highlighting  Time Slots</a> article.</p>

<a name='customtimeunits'><h2>Custom time units</h2></a>

<p>dhtmlxGantt allows you to define custom time units and set a template for labels in the scale configuration.</p>

<p>To define a custom unit you need to define 2 functions in the <a class="link-" href="api__gantt_date_other.html">Date object</a>:</p>

<pre><code><pre class="js">Date gantt.<span class="me1">date</span>.<span class="sy0">&lt;</span>unit<span class="sy0">&gt;</span>_start<span class="br0">&#40;</span>Date date<span class="br0">&#41;</span><span class="sy0">;</span>
Date gantt.<span class="me1">date</span>.<span class="me1">add_</span><span class="sy0">&lt;</span>unit<span class="sy0">&gt;</span><span class="br0">&#40;</span>Date date<span class="sy0">,</span> Integer increment<span class="br0">&#41;</span><span class="sy0">;</span></pre></code></pre>

<ul>
<li>The first function shall return the start time unit for any given date (e.g. month_start for 14 Feb -> 1st Feb).</li>
<li>The second function increments the date by any given number of duration units (e.g. 'date minus 2 days') </li>
</ul>

<p>Let's create a "fiscal_year" unit and assume that a fiscal year will end on the 31st of January. This is how the new unit can be specified:</p>

<pre><code><pre class="js"><span class="kw2">var</span> firstMonth <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">,</span>
    firstDay <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
&nbsp;
<span class="xtra ln-xtra">gantt.<span class="me1">date</span>.<span class="me1">fiscal_year_start</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#123;</span>       </span>   <span class="kw2">var</span> next <span class="sy0">=</span> <span class="kw2">new</span> Date<span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="sy0">;</span>
   <span class="kw1">if</span><span class="br0">&#40;</span>next.<span class="me1">getMonth</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&lt;</span> firstMonth <span class="sy0">||</span> 
      <span class="br0">&#40;</span>next.<span class="me1">getMonth</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">===</span> firstMonth <span class="sy0">&amp;&amp;</span> next.<span class="me1">getDate</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&lt;</span> firstDay<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
      next <span class="sy0">=</span> gantt.<span class="me1">date</span>.<span class="me1">add</span><span class="br0">&#40;</span>next<span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> <span class="st0">&quot;year&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> 
   <span class="br0">&#125;</span>
&nbsp;
  next <span class="sy0">=</span> gantt.<span class="me1">date</span>.<span class="me1">year_start</span><span class="br0">&#40;</span>next<span class="br0">&#41;</span><span class="sy0">;</span>
  next.<span class="me1">setMonth</span><span class="br0">&#40;</span>firstMonth<span class="br0">&#41;</span><span class="sy0">;</span>
  next.<span class="me1">setDate</span><span class="br0">&#40;</span>firstDay<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="kw1">return</span> next<span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span> 
&nbsp;
<span class="xtra ln-xtra">gantt.<span class="me1">date</span>.<span class="me1">add_fiscal_year</span> <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">&#40;</span>date<span class="sy0">,</span> inc<span class="br0">&#41;</span><span class="br0">&#123;</span>    </span>   <span class="kw1">return</span> gantt.<span class="me1">date</span>.<span class="me1">add</span><span class="br0">&#40;</span>date<span class="sy0">,</span> inc<span class="sy0">,</span> <span class="st0">&quot;year&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span></pre></code></pre>

<p>And then use it in the code as in:</p>

<pre><code><pre class="js"><span class="kw2">var</span> dateToStr <span class="sy0">=</span> gantt.<span class="me1">date</span>.<span class="me1">date_to_str</span><span class="br0">&#40;</span><span class="st0">&quot;%Y&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw2">function</span> fiscalYearLabel<span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw1">return</span> dateToStr<span class="br0">&#40;</span>gantt.<span class="me1">date</span>.<span class="me1">fiscal_year_start</span><span class="br0">&#40;</span>date<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span>
&nbsp;
gantt.<span class="me1">config</span>.<span class="me1">scales</span> <span class="sy0">=</span> <span class="br0">&#91;</span>
  <span class="br0">&#123;</span>unit<span class="sy0">:</span><span class="st0">&quot;year&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span><span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span><span class="st0">&quot;Calendar year %Y&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
  <span class="br0">&#123;</span>unit<span class="sy0">:</span><span class="st0">&quot;fiscal_year&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span><span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span>fiscalYearLabel<span class="br0">&#125;</span><span class="sy0">,</span>
  <span class="br0">&#123;</span>unit<span class="sy0">:</span><span class="st0">&quot;month&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span> <span class="st0">&quot;%M %Y&quot;</span><span class="br0">&#125;</span><span class="sy0">,</span>
  <span class="br0">&#123;</span>unit<span class="sy0">:</span><span class="st0">&quot;day&quot;</span><span class="sy0">,</span> step<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span> format<span class="sy0">:</span><span class="st0">&quot;%d %M&quot;</span><span class="br0">&#125;</span>
<span class="br0">&#93;</span><span class="sy0">;</span></pre></code></pre>

<!-- Content Area End -->
			<a href='desktop__configuring_time_scale.html#top' class='top_link'>Back to top</a>
			<div id='disqus_thread'></div><script type='text/javascript'>var disqus_shortname = 'dhxdocumentation';var disqus_developer = 1;(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script>
		</div>
		</div>
	</div>
	<div class="footer">
		<div class='content'>
			<ul class='column'>
	<li class='group'>Tasks</li>
	<li><a href='desktop__loading_storing_data.html'>Loading</a></li>
	<li><a href='desktop__task_bars.html'>Operations</a></li>
	<li><a href='desktop__styling.html'>Look &amp; Feel</a></li>
</ul>

<ul class='column'>
	<li class='group'>Configuration</li>
	<li><a href='desktop__table.html'>Grid</a></li>
	<li><a href='desktop__time_scale.html'>Scales</a></li>
	<li><a href='desktop__edit_form.html'>Lightbox</a></li>
	<li><a href='desktop__dependencies.html'>Links</a></li>
</ul>

<ul class='column'>
	<li class='group'>PRO Edition</li>
	<li><a href='desktop__critical_path.html'>Critical Path</a></li>
	<li><a href='desktop__milestones.html'>Milestones</a></li>
	<li><a href='desktop__baselines.html'>Baselines</a></li>
</ul>

<ul class='column'>
	<li class='group'>Other Components</li>
	<li><a href='../suite/index.html'>Suite</a></li>
	<li><a href='../scheduler/index.html'>Scheduler</a></li>
	<li><a href='../pivot/index.html'>Pivot</a></li>	
	<li><a href='http://scheduler-net.com/'>Scheduler .Net</a></li>
</ul>

<ul class='column'>
	<li class='group'>API</li>
	<li><a href='api__refs__gantt_events.html'>Events</a></li>
	<li><a href='api__refs__gantt_methods.html'>Methods</a></li>
	<li><a href='api__refs__gantt_props.html'>Properties</a></li>
	<li><a href='api__refs__gantt_templates.html'>Templates</a></li>
</ul>

		</div>
	</div>
	<script src="assets/autocomplete.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		AutoComplete_init("");
		Scroll_init();
	</script>	
</body>
</html>